(function(i){function f(a,b){if(1==arguments.length){if(_.isArray(a)&&2==a.length)return new c(a[0],a[1]);if(_.isObject(a)&&_.has(a,"x")&&_.has(a,"y"))return new c(a.x,a.y)}else{if(2==arguments.length&&!_.isObject(a)&&!_.isObject(b))return new c(a,b);if(_.isString(a)){var d=document.createElementNS("http://www.w3.org/2000/svg",a);_.each(b,function(a,b){d.setAttribute(b,a)});"svg"===a&&d.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink");for(var e=2;e<arguments.length;++e)_.isObject(arguments[e])?
d.appendChild(arguments[e]):d.appendChild(document.createTextNode(arguments[e]));return d}}}function c(a,b){_.has(a,"x")&&_.has(a,"y")?(this.x=a.x,this.y=a.y):_.isArray(a)&&2==a.length?(this.x=a[0],this.y=a[1]):(this.x=a||0,this.y=b||0)}function h(a){return function(b,d){if(1==arguments.length){if(_.isArray(b))return a.call(this,new c(b[0],b[1]));if(_.isObject(b))return a.call(this,b)}else if(2==arguments.length&&!_.isObject(b)&&!_.isObject(d))return a.call(this,new c(b,d));throw Error(arguments.length+
" arguments, possibly wrong type");}}function g(a){_.has(a,"from")&&new c(a.from);_.has(a,"to")&&new c(a.to);var b=function(b){_.has(a,b+"d")&&!_.has(a,b)&&(a[b]=a[b+"d"]*Math.PI/180)};b("a1");b("a2");b("aspan");!_.has(a,"aspan")&&(_.has(a,"a1")&&_.has(a,"a2"))&&(a.aspan=a.a2-a.a1);b=a.aspan;if(!_.has(a,"from")||!_.has(a,"to")){var d=new c(a.center);a.from=d.add((new c(a.r)).rotate(a.a1));a.to=d.add((new c(a.r)).rotate(a.a2))}if(Math.abs(b)<=k)return d=a.to.sub(a.from).mul(1/(3*Math.pow(Math.cos(b/
4),2))),[[a.from,a.from.add(d.rotate(-b/2)),a.to.sub(d.rotate(b/2)),a.to]];if(_.has(a,"center"))return d={center:a.center,r:a.r,a1:a.a1,a2:a.a2},g(_.extend({},d,{a2:a.a1+b/2})).concat(g(_.extend({},d,{a1:a.a2-b/2})));console.assert(!1,"Not implemented branch of arcBezier")}function j(a,b){2>arguments.length&&(b="");return _.foldl(a,function(a,b){var c=0<a.length&&0<="0123456789".indexOf(a.substr(-1))?" ":"";if(!_.isObject(b))return a+c+b;if(_.isArray(b))return a+c+j(b);if(_.has(b,"x")&&_.has(b,"y"))return a+
c+b.x+" "+b.y},b)}_.extend(c.prototype,{add:h(function(a){return new c(this.x+a.x,this.y+a.y)}),sub:h(function(a){return new c(this.x-a.x,this.y-a.y)}),dot:h(function(a){return this.x*a.x+this.y*a.y}),mul:function(a){return new c(this.x*a,this.y*a)},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},argument:function(){return Math.atan2(this.y,this.x)},rotate:function(a){var b=Math.cos(a),a=Math.sin(a);return new c(this.x*b-this.y*a,this.x*a+this.y*b)},rename:function(a,b){if(0==arguments.length)return[this.x,
this.y];if(1==arguments.length){if(_.isArray(a))return this.rename.apply(this,a);b=a.replace("x","y")}var c={};c[a]=this.x;c[b]=this.y;return c}});c.prototype.scale=c.prototype.mul;c.prototype.direction=c.prototype.argument;c.prototype.dir=c.prototype.argument;c.prototype.ren=c.prototype.rename;var k=Math.PI/4;f.path=j;f.arcpath=function(a,b){var c=[],e;if(_.isString(a))e=g(b),c.push(a,e[0][0]);else if(_.isObject(a)&&1==arguments.length)e=g(a);else return;_.each(e,function(a){c.push("C",a.slice(1))});
return c};i.planeLib=f;i.$v=f})(this);
